<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <title>Atmos — Weather</title>
  <meta name="description" content="Premium weather dashboard with search, geolocation, hourly and 7-day forecast, saved places, and offline cache." />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Ambient -->
  <div class="bg">
    <div class="bg__noise" aria-hidden="true"></div>
    <div class="bg__glow" aria-hidden="true"></div>
  </div>

  <header class="topbar">
    <div class="wrap topbar__inner">
      <a class="brand" href="#" aria-label="Atmos Home">
        <span class="brand__mark" aria-hidden="true"></span>
        <span class="brand__name">Atmos</span>
        <span class="brand__tag">Weather Intelligence</span>
      </a>

      <form id="searchForm" class="search" autocomplete="off" role="search">
        <div class="search__box">
          <span class="search__icon" aria-hidden="true">
            <!-- magnifier -->
            <svg viewBox="0 0 24 24" fill="none"><path d="M10.7 18.2a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="currentColor" stroke-width="1.8"/><path d="M16.4 16.4 21 21" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg>
          </span>
          <input id="q" class="search__input" type="text" inputmode="search" placeholder="Search city (e.g., Casablanca, Rabat, Paris)" aria-label="Search city" />
          <button class="search__btn" type="submit">Search</button>
        </div>
        <div id="suggestions" class="suggestions" role="listbox" aria-label="Search suggestions" data-open="false"></div>
      </form>

      <div class="actions">
        <button id="geoBtn" class="btn btn--ghost" type="button" title="Use my location">
          <span class="btn__icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none"><path d="M12 21s7-5 7-11a7 7 0 0 0-14 0c0 6 7 11 7 11Z" stroke="currentColor" stroke-width="1.8"/><path d="M12 13.2a3.2 3.2 0 1 0 0-6.4 3.2 3.2 0 0 0 0 6.4Z" stroke="currentColor" stroke-width="1.8"/></svg>
          </span>
          <span class="hide-sm">Location</span>
        </button>

        <div class="seg" role="group" aria-label="Temperature units">
          <button id="unitC" class="seg__btn" type="button" aria-pressed="true">°C</button>
          <button id="unitF" class="seg__btn" type="button" aria-pressed="false">°F</button>
        </div>

        <button id="themeBtn" class="btn btn--ghost" type="button" title="Toggle theme">
          <span class="btn__icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none"><path d="M21 13.1A8.2 8.2 0 0 1 10.9 3a7.4 7.4 0 1 0 10.1 10.1Z" stroke="currentColor" stroke-width="1.8"/></svg>
          </span>
          <span class="hide-sm">Theme</span>
        </button>

        <button id="refreshBtn" class="btn btn--primary" type="button" title="Refresh">
          Refresh
        </button>
      </div>
    </div>
  </header>

  <main class="wrap main" id="main">
    <section class="hero">
      <div class="hero__left card">
        <div class="hero__head">
          <div class="hero__where">
            <div id="locationName" class="hero__title">—</div>
            <div id="metaLine" class="hero__meta">Search a city or use your location.</div>
          </div>

          <div class="hero__icon" id="heroIcon" aria-hidden="true"></div>
        </div>

        <div class="hero__grid">
          <div class="kpi">
            <div class="kpi__label">Now</div>
            <div id="tempNow" class="kpi__value">—</div>
            <div id="summaryNow" class="kpi__sub">—</div>
          </div>

          <div class="kpi">
            <div class="kpi__label">Feels</div>
            <div id="feelsNow" class="kpi__value kpi__value--sm">—</div>
            <div class="kpi__sub">Comfort derived from humidity & temperature</div>
          </div>

          <div class="stats">
            <div class="stat"><span class="stat__k">Wind</span><span id="windNow" class="stat__v">—</span></div>
            <div class="stat"><span class="stat__k">Humidity</span><span id="humidityNow" class="stat__v">—</span></div>
            <div class="stat"><span class="stat__k">Precip</span><span id="precipNow" class="stat__v">—</span></div>
            <div class="stat"><span class="stat__k">UV</span><span id="uvNow" class="stat__v">—</span></div>
            <div class="stat"><span class="stat__k">Visibility</span><span id="visNow" class="stat__v">—</span></div>
            <div class="stat"><span class="stat__k">Pressure</span><span id="pressNow" class="stat__v">—</span></div>
          </div>

          <div class="range">
            <div class="range__top">
              <div id="todayMin" class="range__label">—</div>
              <div id="todayMax" class="range__label">—</div>
            </div>
            <div class="range__bar" aria-hidden="true">
              <div class="range__fill" id="rangeFill"></div>
            </div>
            <div id="sunLine" class="range__sub">—</div>
          </div>
        </div>
      </div>

      <div class="hero__right">
        <div class="card card--tight">
          <div class="card__head">
            <div>
              <div class="card__title">Signals</div>
              <div class="card__sub">Quick read on comfort & risk.</div>
            </div>
          </div>

          <div class="meters">
            <div class="meter">
              <div class="meter__row"><span>Heat Index</span><span id="heatIndex">—</span></div>
              <div class="meter__bar"><div id="heatFill" class="meter__fill"></div></div>
            </div>
            <div class="meter">
              <div class="meter__row"><span>Dew Point</span><span id="dewPoint">—</span></div>
              <div class="meter__bar"><div id="dewFill" class="meter__fill"></div></div>
            </div>
            <div class="meter">
              <div class="meter__row"><span>Cloud Cover</span><span id="cloudNow">—</span></div>
              <div class="meter__bar"><div id="cloudFill" class="meter__fill"></div></div>
            </div>
            <div class="meter">
              <div class="meter__row"><span>Next Hour Rain</span><span id="popNow">—</span></div>
              <div class="meter__bar"><div id="popFill" class="meter__fill"></div></div>
            </div>
          </div>

          <div class="hint" id="comfortHint">—</div>
        </div>

        <div class="card card--tight">
          <div class="card__head">
            <div>
              <div class="card__title">Saved</div>
              <div class="card__sub">Keep your frequent locations.</div>
            </div>
            <div class="card__actions">
              <button id="saveBtn" class="btn btn--ghost" type="button">Save</button>
              <button id="clearSavedBtn" class="btn btn--ghost" type="button">Clear</button>
            </div>
          </div>
          <div id="savedChips" class="chips"></div>

          <div class="divider"></div>

          <div class="card__head" style="padding-top: 0;">
            <div>
              <div class="card__title">Recent</div>
              <div class="card__sub">Jump back instantly.</div>
            </div>
          </div>
          <div id="recentChips" class="chips"></div>
        </div>
      </div>
    </section>

    <section class="grid">
      <div class="card">
        <div class="card__head">
          <div>
            <div class="card__title">Next 24 hours</div>
            <div class="card__sub">Local time, adaptive icons, rain risk.</div>
          </div>
        </div>
        <div id="hourlyRow" class="hourly" aria-label="Hourly forecast"></div>
      </div>

      <div class="card">
        <div class="card__head">
          <div>
            <div class="card__title">7-day outlook</div>
            <div class="card__sub">Daily highs/lows, precipitation and wind.</div>
          </div>
        </div>
        <div id="dailyList" class="daily" aria-label="Daily forecast"></div>
      </div>

      <div class="card">
        <div class="card__head">
          <div>
            <div class="card__title">Insights</div>
            <div class="card__sub">Actionable summary from the forecast.</div>
          </div>
        </div>
        <div id="insights" class="insights"></div>
      </div>
    </section>

    <!-- Overlays -->
    <div id="loading" class="overlay" hidden>
      <div class="overlay__card">
        <div class="spinner" aria-hidden="true"></div>
        <div>
          <div class="overlay__title">Updating weather</div>
          <div class="overlay__sub">Fetching forecast and recomputing signals.</div>
        </div>
      </div>
    </div>

    <div id="error" class="overlay" hidden>
      <div class="overlay__card overlay__card--wide">
        <div>
          <div class="overlay__title">Couldn’t load weather.</div>
          <div id="errorText" class="overlay__sub">—</div>
        </div>
        <div class="overlay__actions">
          <button id="retryBtn" class="btn btn--primary" type="button">Try again</button>
          <button id="useCacheBtn" class="btn btn--ghost" type="button">Use last saved</button>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal" hidden>
      <div class="modal__backdrop" data-close="1"></div>
      <div class="modal__panel" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal__head">
          <div id="modalTitle" class="modal__title">—</div>
          <button class="modal__close" type="button" data-close="1" aria-label="Close">×</button>
        </div>
        <div id="modalBody" class="modal__body"></div>
      </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast" hidden>
      <div class="toast__icon" aria-hidden="true"></div>
      <div id="toastText" class="toast__text"></div>
      <button id="toastClose" class="toast__close" type="button" aria-label="Close">×</button>
    </div>
  </main>

  <footer class="footer">
    <div class="wrap footer__inner">
      <div class="footer__left">
        <div class="footer__brand">
          <span class="brand__mark brand__mark--sm" aria-hidden="true"></span>
          <span>Atmos</span>
        </div>
        <div class="footer__meta">© <span id="year"></span> • Built for speed • Data by Open-Meteo</div>
      </div>

      <nav class="footer__nav" aria-label="Footer">
        <a id="aboutLink" href="#">About</a>
        <a id="privacyLink" href="#">Privacy</a>
        <a id="statusLink" href="#">Status</a>
      </nav>
    </div>
  </footer>

  <script src="script.js" defer></script>
</body>
</html>
